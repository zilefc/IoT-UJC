<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Controle remoto de iluminação</title>
  </head>
  <script language="javascript">
    document.onmousedown = disableclick;
    status = "Não faz isso! Faça curso conosco www.tmeeducation.com";
    function disableclick(e) {
      if (event.button == 2) {
        alert(status);
        return false;
      }
    }
  </script>
  <link rel="stylesheet" href="style.css" />
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-database.js"></script>
  <script>
    const firebaseConfig = {
     apiKey: "AIzaSyAr4acL1Rggci7iRKpTc3bTPN0I1eYts7M",
    authDomain: "controlo-de-lampada.firebaseapp.com",
    projectId: "controlo-de-lampada",
    storageBucket: "controlo-de-lampada.appspot.com",
    messagingSenderId: "293468996316",
    appId: "1:293468996316:web:b55eaca5a9b2f08b2daa19"    };
    firebase.initializeApp(firebaseConfig);

firebase.database().ref("SALA/estado").on("value", snapshot => {
  document.querySelector("#estado-led").textContent = snapshot.val();
});


    function ledOn() {
      firebase.database().ref("SALA").set({
        estado: "LIGADA"
      });
    }

    function ledOff() {
      firebase.database().ref("SALA").set({
        estado: "DESLIGADA"
      });
    }
  </script>
  <script src="app.js" defer></script>
  <body>
    <header>
      <img src="ujc.PNG" width="120" />
      <h1>TME Education</h1>
      <h2>Universidade Joaquim Chissano</h2>
      <h2>Curso de Arduino nivel II (IoT)</h2>
    </header>
    <h1>Controle remoto de iluminação</h1>
    <fieldset>
      <legend>Sala</legend>
      <div>
        <button class="led-on" onclick="ledOn()">Ligar</button>
        <button class="led-off" onclick="ledOff()">Desligar</button>
      </div>
      <p>Estado do LED: <span id="estado-led">Desligada</span></p>
    </fieldset>
    <br />
    <footer>
      <p><strong> TME Education Mozambique </strong></p>
    </footer>
  </body>
</html>
